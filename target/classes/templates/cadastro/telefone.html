<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<head>
		<meta charset="UTF-8">
		<title>Insert title here</title>
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"  media="screen,projection"/>
	</head>
	
	<body style="margin-left: 4%; margin-top: 3%">
		<!-- Declaração dos objetos -->
		<h4>Adicionar Telefone para <span th:text="${objetoPessoa.nome}"></span> </h4>
		<div class="row">
			<!-- Formulário de cadastro do telefone -->
      		<form th:action="@{/addTelefone/{idPessoa}(idPessoa=${objetoPessoa.id})}" method="post">
      			<p> Telefone: <input type="number" name="numero" class="validate" required="required" maxlength="11" > </p>
      			<p> Tipo: 
      					<select name="tipo" required="required">
      						<option value="--Selecione--" selected="selected">--Selecione--</option>      					
      						<option value="Pessoal">Pessoal</option>
      						<option value="Residencial">Residencial</option>
      						<option value="Trabalho">Trabalho</option>
      						<option value="Recado">Recado</option>      						
      					</select>
      			</p>
      			<p> <button type="submit" class="waves-effect waves-light btn"> Salvar <i class="material-icons right">save</i> </button> </p>   				
      		</form>
      	</div>
      	
      	<br> <br>
      	<a th:href="@{/listartelefones/{idPessoa}(idPessoa=${objetoPessoa.id})}"> <button class="waves-effect waves-light btn">Listar telefones de <span th:text="${objetoPessoa.nome}"></span> <i class="material-icons left">phone</i></button> </a>
		<br> <br>
		<a href = "/listarpessoas"> <button class="waves-effect waves-light btn"> Voltar para a tela de cadastro <i class="material-icons left">reply</i> </button> </a>
		<br> <br>
		
		
		<!-- Lista de telefones da pessoa -->
		<table>
			<thead>
				<tr>
					<th th:text="${numero}"></th>
					<th th:text="${tipo}"></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each = "telefone : ${telefones}">
					<td th:text="${telefone.numero}"></td>
					<td th:text="${telefone.tipo}"></td>
					<td> <a th:href="@{/removertelefone/{idTelefone}(idTelefone = ${telefone.id})}"> <button class="waves-effect waves-light btn">Remover <i class="material-icons right">clear</i></button> </a></td>
				</tr>
			</tbody>
		</table>
		
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
		
		<script type="text/javascript">
			var elems = document.querySelectorAll('select');
    		var instances = M.FormSelect.init(elems, {
  		});
		</script>
	</body>
	
</html>